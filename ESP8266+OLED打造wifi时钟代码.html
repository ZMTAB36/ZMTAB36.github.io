<!DOCTYPE html>
<html>
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta charset="utf-8">
		<title>ESP8266+OLED打造wifi时钟代码</title>
		<style>
			body {
				background-color: whitesmoke;
			}

			.con {
				margin: 100px 350px;
				width: 55%;
				background-color: white;
			}

			.tit {
				margin: 10px 10px;
				border-bottom: 1px solid #CCCCCC;
				border-top: 15px;
			}

			.tit h1 {
				font-size: 22px;
				color: dimgray;
			}

			.txt {
				margin: 10px 10px;
				margin-bottom: 80px;
				font-size: 16px;
				color: dimgrey;
			}

			@media screen and (max-width: 600px) {
				.con {
					margin: 0px;
					width: 100%;
					border-bottom: 1px solid #CCCCCC;
				}


			}
		</style>
	</head>
	<body>
		<div class="con">
			<div class="tit">
				<h1>ESP8266+OLED打造wifi时钟代码</h1>
			</div>
			<div class="txt">
				<p><span style="text-wrap: nowrap;">复制下面代码用米思齐开发工具上传</span><br /></p>
				<p><span style="text-wrap: nowrap;">https://mixly.org/</span></p>
				<p><span style="text-wrap: nowrap;">找到代码中WIFI连接配置</span></p>
				<p><span style="text-wrap: nowrap;">登录路由器账号</span></p>
				<p><span style="text-wrap: nowrap;">找到心知天气HTTP请求所需信息</span></p>
				<p><span style="text-wrap: nowrap;">填写私钥</span></p>
				<p><span style="text-wrap: nowrap;">心知天气接口注册</span></p>
				<p><span style="text-wrap: nowrap;">https://www.seniverse.com/</span></p>
				<p><span style="text-wrap: nowrap;">//引入必要的头文件</span></p>
				<p><span style="text-wrap: nowrap;">#include &lt;ArduinoJson.h&gt;</span></p>
				<p><span style="text-wrap: nowrap;">#include &lt;ESP8266WiFi.h&gt;</span></p>
				<p><span style="text-wrap: nowrap;">#include &lt;SPI.h&gt;</span></p>
				<p><span style="text-wrap: nowrap;">#include &lt;U8g2lib.h&gt;</span></p>
				<p><span style="text-wrap: nowrap;">#include &lt;WiFiUdp.h&gt;</span></p>
				<p><span style="text-wrap: nowrap;">#include &lt;TimeLib.h&gt;</span></p>
				<p><span style="text-wrap: nowrap;">#include &lt;DNSServer.h&gt;</span></p>
				<p><span style="text-wrap: nowrap;">#include &lt;ESP8266WebServer.h&gt;</span></p>
				<p><span style="text-wrap: nowrap;">WiFiUDP Udp;</span></p>
				<p><span style="text-wrap: nowrap;">unsigned int localPort = 8888; // 用于侦听UDP数据包的本地端口</span></p>
				<p><span style="text-wrap: nowrap;"><br /></span></p>
				<p><span style="text-wrap: nowrap;">//网络校时的相关配置</span></p>
				<p><span style="text-wrap: nowrap;">static const char ntpServerName[] = &quot;ntp1.aliyun.com&quot;;
						//NTP服务器，使用阿里云</span></p>
				<p><span style="text-wrap: nowrap;">int timeZone = 8; //时区设置，采用东8区</span></p>
				<p><span style="text-wrap: nowrap;"><br /></span></p>
				<p><span style="text-wrap: nowrap;">//保存断网前的最新数据</span></p>
				<p><span style="text-wrap: nowrap;">int results_0_now_temperature_int_old;</span></p>
				<p><span style="text-wrap: nowrap;">String results_0_now_text_str_old;</span></p>
				<p><span style="text-wrap: nowrap;">int results_0_daily_1_high_int_old;</span></p>
				<p><span style="text-wrap: nowrap;">int results_0_daily_1_low_int_old;</span></p>
				<p><span style="text-wrap: nowrap;">String results_0_daily_1_text_day_str_old;</span></p>
				<p><span style="text-wrap: nowrap;"><br /></span></p>
				<p><span style="text-wrap: nowrap;">//函数声明</span></p>
				<p><span style="text-wrap: nowrap;">time_t getNtpTime();</span></p>
				<p><span style="text-wrap: nowrap;">void sendNTPpacket(IPAddress &amp;address);</span></p>
				<p><span style="text-wrap: nowrap;">void oledClockDisplay();</span></p>
				<p><span style="text-wrap: nowrap;">void sendCommand(int command, int value);</span></p>
				<p><span style="text-wrap: nowrap;">void initdisplay();</span></p>
				<p><span style="text-wrap: nowrap;">void connectWiFi();</span></p>
				<p><span style="text-wrap: nowrap;">void parseInfo_now(WiFiClient client,int i);</span></p>
				<p><span style="text-wrap: nowrap;">void parseInfo_fut(WiFiClient client,int i);</span></p>
				<p><span style="text-wrap: nowrap;">//</span></p>
				<p><span style="text-wrap: nowrap;">boolean isNTPConnected = false;</span></p>
				<p><span style="text-wrap: nowrap;"><br /></span></p>
				<p><span style="text-wrap: nowrap;">const unsigned char xing[] U8X8_PROGMEM = {</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; 0x00, 0x00, 0xF8, 0x0F, 0x08, 0x08, 0xF8, 0x0F, 0x08,
						0x08, 0xF8, 0x0F, 0x80, 0x00, 0x88, 0x00,</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; 0xF8, 0x1F, 0x84, 0x00, 0x82, 0x00, 0xF8, 0x0F, 0x80,
						0x00, 0x80, 0x00, 0xFE, 0x3F, 0x00, 0x00}; /*星*/</span></p>
				<p><span style="text-wrap: nowrap;">const unsigned char liu[] U8X8_PROGMEM = {</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; 0x40, 0x00, 0x80, 0x00, 0x00, 0x01, 0x00, 0x01, 0x00,
						0x00, 0xFF, 0x7F, 0x00, 0x00, 0x00, 0x00,</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; 0x20, 0x02, 0x20, 0x04, 0x10, 0x08, 0x10, 0x10, 0x08,
						0x10, 0x04, 0x20, 0x02, 0x20, 0x00, 0x00}; /*六*/</span></p>
				<p><span style="text-wrap: nowrap;"><br /></span></p>
				<p><span style="text-wrap: nowrap;">typedef struct</span></p>
				<p><span style="text-wrap: nowrap;">{&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
						//存储配置结构体</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; int tz;&nbsp; &nbsp; &nbsp; &nbsp; //时间戳</span></p>
				<p><span style="text-wrap: nowrap;">} config_type;</span></p>
				<p><span style="text-wrap: nowrap;">config_type config;</span></p>
				<p><span style="text-wrap: nowrap;"><br /></span></p>
				<p><span style="text-wrap: nowrap;">WiFiClient clientNULL;</span></p>
				<p><span style="text-wrap: nowrap;">DNSServer dnsServer;</span></p>
				<p><span style="text-wrap: nowrap;">ESP8266WebServer server(80);</span></p>
				<p><span style="text-wrap: nowrap;"><br /></span></p>
				<p><span style="text-wrap: nowrap;"><br /></span></p>
				<p><span style="text-wrap: nowrap;">//----------WIFI连接配置----------</span></p>
				<p><span style="text-wrap: nowrap;">const char* ssid&nbsp; &nbsp; &nbsp;= &quot;qq839231084&quot;;&nbsp;
						&nbsp; &nbsp; &nbsp;// 连接WiFi名（此处使用XXX为示例）&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
						&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">const char* password = &quot;123456789&quot;;&nbsp; &nbsp; &nbsp;
						&nbsp; &nbsp; // 连接WiFi密码（此处使用12345678为示例）</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
						&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //
						请将您需要连接的WiFi密码填入引号中</span></p>
				<p><span style="text-wrap: nowrap;">//----------天气API配置----------</span></p>
				<p><span style="text-wrap: nowrap;">const char* host = &quot;api.seniverse.com&quot;;&nbsp; &nbsp;//
						将要连接的服务器地址&nbsp;&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">const int httpPort = 80;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
						&nbsp; // 将要连接的服务器端口&nbsp; &nbsp; &nbsp;&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;"><br /></span></p>
				<p><span style="text-wrap: nowrap;">// 心知天气HTTP请求所需信息</span></p>
				<p><span style="text-wrap: nowrap;">String reqUserKey = &quot;123456&quot;;&nbsp; &nbsp;// 私钥</span></p>
				<p><span style="text-wrap: nowrap;">String reqLocation = &quot;Shenzhen&quot;;&nbsp; &nbsp; &nbsp;
						&nbsp; &nbsp; &nbsp; // 城市</span></p>
				<p><span style="text-wrap: nowrap;">String reqUnit = &quot;c&quot;;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
						&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // 摄氏/华氏</span></p>
				<p><span style="text-wrap: nowrap;"><br /></span></p>
				<p><span style="text-wrap: nowrap;">//----------设置屏幕----------</span></p>
				<p><span style="text-wrap: nowrap;">U8G2_SSD1306_128X64_NONAME_F_HW_I2C u8g2(U8G2_R0, /*
						reset=*/U8X8_PIN_NONE);</span></p>
				<p><span style="text-wrap: nowrap;">int sta = 0;</span></p>
				<p><span style="text-wrap: nowrap;">//----------初始化OLED----------</span></p>
				<p><span style="text-wrap: nowrap;">void initdisplay()</span></p>
				<p><span style="text-wrap: nowrap;">{</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; u8g2.begin();</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; u8g2.enableUTF8Print();</span></p>
				<p><span style="text-wrap: nowrap;">}</span></p>
				<p><span style="text-wrap: nowrap;">//----------用于获取实时天气的函数(0)----------</span></p>
				<p><span style="text-wrap: nowrap;">void TandW(){</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; String reqRes = &quot;/v3/weather/now.json?key=&quot; +
						reqUserKey +</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; +
						&quot;&amp;location=&quot; + reqLocation +&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
						&quot;&amp;language=en&amp;unit=&quot; +reqUnit;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; // 向心知天气服务器服务器请求信息并对信息进行解析</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; httpRequest(reqRes,0);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; //延迟，需要低于20次/分钟</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; delay(5000);</span></p>
				<p><span style="text-wrap: nowrap;">}</span></p>
				<p><span style="text-wrap: nowrap;">void display_1(int results_0_now_temperature_int,String
						results_0_now_text_str);//声明函数，用于显示温度、天气</span></p>
				<p><span style="text-wrap: nowrap;"><br /></span></p>
				<p><span style="text-wrap: nowrap;"><br /></span></p>
				<p><span style="text-wrap: nowrap;">//----------获取3天预报(1)----------</span></p>
				<p><span style="text-wrap: nowrap;">void threeday(){</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; // 建立心知天气API当前天气请求资源地址</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; String reqRes = &quot;/v3/weather/daily.json?key=&quot; +
						reqUserKey +</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; +
						&quot;&amp;location=&quot; + reqLocation + &quot;&amp;language=en&amp;unit=&quot; +</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
						reqUnit + &quot;&amp;start=0&amp;days=3&quot;;</span></p>
				<p><span style="text-wrap: nowrap;"><br /></span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; // 向心知天气服务器服务器请求信息并对信息进行解析</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; httpRequest(reqRes,1);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; delay(5000);</span></p>
				<p><span style="text-wrap: nowrap;">}</span></p>
				<p><span style="text-wrap: nowrap;"><br /></span></p>
				<p><span style="text-wrap: nowrap;">void clock_display(time_t prevDisplay){</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; server.handleClient();</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; dnsServer.processNextRequest();</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; if (timeStatus() != timeNotSet)</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; {</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; &nbsp; if (now() != prevDisplay)</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; &nbsp; { //时间改变时更新显示</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; prevDisplay =
						now();</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; oledClockDisplay();</span>
				</p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; &nbsp; }</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; }</span></p>
				<p><span style="text-wrap: nowrap;">}</span></p>
				<p><span style="text-wrap: nowrap;"><br /></span></p>
				<p><span style="text-wrap: nowrap;"><br /></span></p>
				<p><span style="text-wrap: nowrap;">void setup(){</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; Serial.begin(9600);&nbsp; &nbsp; &nbsp; &nbsp;
						&nbsp;&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; Serial.println(&quot;&quot;);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; initdisplay();</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; // 连接WiFi</span></p>
				<p><span style="text-wrap: nowrap;"><br /></span></p>
				<p><span style="text-wrap: nowrap;">&nbsp;&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp;&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; u8g2.clearBuffer();</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; u8g2.setFont(u8g2_font_unifont_t_chinese2);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; u8g2.setCursor(0, 14);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; u8g2.print(&quot;Waiting for WiFi&quot;);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; u8g2.setCursor(0, 30);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; u8g2.print(&quot;connection...&quot;);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; u8g2.sendBuffer();</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; connectWiFi();</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; Udp.begin(localPort);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; setSyncProvider(getNtpTime);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; setSyncInterval(300); //每300秒同步一次时间</span></p>
				<p><span style="text-wrap: nowrap;"><br /></span></p>
				<p><span style="text-wrap: nowrap;">&nbsp;&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">}</span></p>
				<p><span style="text-wrap: nowrap;"><br /></span></p>
				<p><span style="text-wrap: nowrap;">time_t prevDisplay = 0; //当时钟已经显示</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">void loop(){</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; if (sta&gt;=0 &amp;&amp; sta&lt;=250){</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; clock_display(prevDisplay);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp;&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; }else if(sta == 251){</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; TandW();</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp;&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; }else{</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; threeday();</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp;&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; }</span></p>
				<p><span style="text-wrap: nowrap;"><br /></span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; ++sta;</span></p>
				<p><span style="text-wrap: nowrap;"><br /></span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; if(sta==253){</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; sta = 0;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; }</span></p>
				<p><span style="text-wrap: nowrap;">}</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">// 向心知天气服务器服务器请求信息并对信息进行解析</span></p>
				<p><span style="text-wrap: nowrap;">void httpRequest(String reqRes,int stat){</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; WiFiClient client;</span></p>
				<p><span style="text-wrap: nowrap;"><br /></span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; // 建立http请求信息</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; String httpRequest = String(&quot;GET &quot;) + reqRes +
						&quot; HTTP/1.1\r\n&quot; +&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
						&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;Host: &quot; + host + &quot;\r\n&quot;
						+&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
						&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;Connection: close\r\n\r\n&quot;;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; Serial.println(&quot;&quot;);&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; Serial.print(&quot;Connecting to &quot;);
						Serial.print(host);</span></p>
				<p><span style="text-wrap: nowrap;"><br /></span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; // 尝试连接服务器</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; if (client.connect(host, 80)){</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; Serial.println(&quot; Success!&quot;);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; // 向服务器发送http请求信息</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; client.print(httpRequest);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; Serial.println(&quot;Sending request: &quot;);</span>
				</p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; Serial.println(httpRequest);&nbsp;&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; // 获取并显示服务器响应状态行&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; String status_response =
						client.readStringUntil(&#39;\n&#39;);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; Serial.print(&quot;status_response: &quot;);</span>
				</p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; Serial.println(status_response);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; // 使用find跳过HTTP响应头</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; if (client.find(&quot;\r\n\r\n&quot;)) {</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; Serial.println(&quot;Found Header End. Start
						Parsing.&quot;);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; }</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; if (stat == 0){</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp;&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; // 利用ArduinoJson库解析心知天气响应信息(实时数据)</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; parseInfo_now(client,1);&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; }else if(stat == 1){</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; parseInfo_fut(client,1);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; }</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; }</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; else {</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; Serial.println(&quot; connection
						failed!&quot;);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; if (stat == 0){</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp;&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; // 利用ArduinoJson库解析心知天气响应信息(实时数据)</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; parseInfo_now(clientNULL,0);&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; }else if(stat == 1){</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; parseInfo_fut(clientNULL,0);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; }</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; }</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp;&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; //断开客户端与服务器连接工作</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; client.stop();&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">}</span></p>
				<p><span style="text-wrap: nowrap;"><br /></span></p>
				<p><span style="text-wrap: nowrap;">// 连接WiFi</span></p>
				<p><span style="text-wrap: nowrap;">void connectWiFi(){</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; WiFi.begin(ssid, password);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
						&nbsp; &nbsp; &nbsp; &nbsp; // 启动网络连接</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; Serial.print(&quot;Connecting to &quot;);&nbsp; &nbsp; &nbsp;
						&nbsp; &nbsp; &nbsp; &nbsp; // 串口监视器输出网络连接信息</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; Serial.print(ssid); Serial.println(&quot; ...&quot;);&nbsp;
						// 告知用户NodeMCU正在尝试WiFi连接</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp;&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; int i = 0;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
						&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//
						这一段程序语句用于检查WiFi是否连接成功</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; while (WiFi.status() != WL_CONNECTED) {&nbsp; &nbsp; &nbsp;
						// WiFi.status()函数的返回值是由NodeMCU的WiFi连接状态所决定的。&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; delay(1000);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
						&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//
						如果WiFi连接成功则返回值为WL_CONNECTED&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
						&nbsp; &nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; Serial.print(i++); Serial.print(&#39; &#39;);&nbsp;
						&nbsp; &nbsp; // 此处通过While循环让NodeMCU每隔一秒钟检查一次WiFi.status()函数返回值</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; }&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
						&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
						&nbsp; // 同时NodeMCU将通过串口监视器输出连接时长读秒。</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
						&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
						&nbsp; &nbsp;// 这个读秒是通过变量i每隔一秒自加1来实现的。&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
						&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
						&nbsp; &nbsp;&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; Serial.println(&quot;&quot;);&nbsp; &nbsp; &nbsp; &nbsp;
						&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // WiFi连接成功后</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; Serial.println(&quot;Connection established!&quot;);&nbsp;
						&nbsp;// NodeMCU将通过串口监视器输出&quot;连接成功&quot;信息。</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; Serial.print(&quot;IP address:&nbsp; &nbsp; &quot;);&nbsp;
						&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// 同时还将输出NodeMCU的IP地址。这一功能是通过调用</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; Serial.println(WiFi.localIP());&nbsp; &nbsp; &nbsp; &nbsp;
						&nbsp; &nbsp; &nbsp; // WiFi.localIP()函数来实现的。该函数的返回值即NodeMCU的IP地址。&nbsp;&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">}</span></p>
				<p><span style="text-wrap: nowrap;"><br /></span></p>
				<p><span style="text-wrap: nowrap;">// 利用ArduinoJson库解析心知天气响应信息(实时)</span></p>
				<p><span style="text-wrap: nowrap;">void parseInfo_now(WiFiClient client,int i){</span></p>
				<p><span style="text-wrap: nowrap;"><br /></span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; if(i==1){</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; const size_t capacity = JSON_ARRAY_SIZE(1) +
						JSON_OBJECT_SIZE(1) + 2*JSON_OBJECT_SIZE(3) + JSON_OBJECT_SIZE(6) + 230;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; DynamicJsonDocument doc(capacity);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp;&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; deserializeJson(doc, client);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp;&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; JsonObject results_0 = doc[&quot;results&quot;][0];</span>
				</p>
				<p><span style="text-wrap: nowrap;">&nbsp;&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; JsonObject results_0_now = results_0[&quot;now&quot;];</span>
				</p>
				<p><span style="text-wrap: nowrap;">&nbsp; const char* results_0_now_text =
						results_0_now[&quot;text&quot;]; // &quot;Sunny&quot;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; const char* results_0_now_code =
						results_0_now[&quot;code&quot;]; // &quot;0&quot;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; const char* results_0_now_temperature =
						results_0_now[&quot;temperature&quot;]; // &quot;32&quot;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp;&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; const char* results_0_last_update =
						results_0[&quot;last_update&quot;]; // &quot;2020-06-02T14:40:00+08:00&quot;&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; // 通过串口监视器显示以上信息</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; String results_0_now_text_str =
						results_0_now[&quot;text&quot;].as&lt;String&gt;();&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; int results_0_now_code_int =
						results_0_now[&quot;code&quot;].as&lt;int&gt;();&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; int results_0_now_temperature_int =
						results_0_now[&quot;temperature&quot;].as&lt;int&gt;();&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; String results_0_last_update_str =
						results_0[&quot;last_update&quot;].as&lt;String&gt;();&nbsp; &nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; Serial.println(F(&quot;======Weahter
						Now=======&quot;));</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; Serial.print(F(&quot;Weather Now: &quot;));</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; Serial.print(results_0_now_text_str);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; Serial.print(F(&quot; &quot;));</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; Serial.println(results_0_now_code_int);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; Serial.print(F(&quot;Temperature: &quot;));</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; Serial.println(results_0_now_temperature_int);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; Serial.print(F(&quot;Last Update: &quot;));</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; Serial.println(results_0_last_update_str);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp;
						Serial.println(F(&quot;========================&quot;));</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp;
						display_0(results_0_now_temperature_int,results_0_now_text_str);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; results_0_now_text_str_old = results_0_now_text_str;</span>
				</p>
				<p><span style="text-wrap: nowrap;">&nbsp; results_0_now_temperature_int_old =
						results_0_now_temperature_int;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; }</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; else{</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp;
						display_0(results_0_now_temperature_int_old,results_0_now_text_str_old);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; }</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">}</span></p>
				<p><span style="text-wrap: nowrap;">//----------输出实时天气----------</span></p>
				<p><span style="text-wrap: nowrap;">void display_0(int results_0_now_temperature_int,String
						results_0_now_text_str){</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; //显示输出</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; u8g2.clearBuffer();</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; u8g2.setFont(u8g2_font_wqy16_t_gb2312);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; u8g2.setCursor(15, 14);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; u8g2.print(&quot;深圳实时天气&quot;);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; u8g2.setFont(u8g2_font_logisoso24_tr);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; u8g2.setCursor(45, 44);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; u8g2.print(results_0_now_temperature_int);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; u8g2.setCursor(35, 61);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; u8g2.setFont(u8g2_font_unifont_t_chinese2);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; u8g2.print(results_0_now_text_str);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; u8g2.sendBuffer();</span></p>
				<p><span style="text-wrap: nowrap;">}</span></p>
				<p><span style="text-wrap: nowrap;"><br /></span></p>
				<p><span style="text-wrap: nowrap;"><br /></span></p>
				<p><span style="text-wrap: nowrap;">// 利用ArduinoJson库解析心知天气响应信息(预测)</span></p>
				<p><span style="text-wrap: nowrap;">void parseInfo_fut(WiFiClient client,int i){</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; if(i==1){</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp;&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp;&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; const size_t capacity = JSON_ARRAY_SIZE(1) +
						JSON_ARRAY_SIZE(3) + JSON_OBJECT_SIZE(1) + JSON_OBJECT_SIZE(3) + JSON_OBJECT_SIZE(6) +
						3*JSON_OBJECT_SIZE(14) + 860;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp;&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; DynamicJsonDocument doc(capacity);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp;&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; deserializeJson(doc, client);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp;&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; JsonObject results_0 = doc[&quot;results&quot;][0];</span>
				</p>
				<p><span style="text-wrap: nowrap;">&nbsp;&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; JsonArray results_0_daily =
						results_0[&quot;daily&quot;];</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp;&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; JsonObject results_0_daily_0 = results_0_daily[0];</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; const char* results_0_daily_0_date =
						results_0_daily_0[&quot;date&quot;];&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; const char* results_0_daily_0_text_day =
						results_0_daily_0[&quot;text_day&quot;];&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; const char* results_0_daily_0_code_day =
						results_0_daily_0[&quot;code_day&quot;];</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; const char* results_0_daily_0_text_night =
						results_0_daily_0[&quot;text_night&quot;];&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; const char* results_0_daily_0_code_night =
						results_0_daily_0[&quot;code_night&quot;];&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; const char* results_0_daily_0_high =
						results_0_daily_0[&quot;high&quot;];</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; const char* results_0_daily_0_low =
						results_0_daily_0[&quot;low&quot;];&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; const char* results_0_daily_0_rainfall =
						results_0_daily_0[&quot;rainfall&quot;];</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; const char* results_0_daily_0_precip =
						results_0_daily_0[&quot;precip&quot;];&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; const char* results_0_daily_0_wind_direction =
						results_0_daily_0[&quot;wind_direction&quot;];&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; const char* results_0_daily_0_wind_direction_degree =
						results_0_daily_0[&quot;wind_direction_degree&quot;];</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; const char* results_0_daily_0_wind_speed =
						results_0_daily_0[&quot;wind_speed&quot;];</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; const char* results_0_daily_0_wind_scale =
						results_0_daily_0[&quot;wind_scale&quot;];</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; const char* results_0_daily_0_humidity =
						results_0_daily_0[&quot;humidity&quot;];</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp;&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; JsonObject results_0_daily_1 = results_0_daily[1];</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; const char* results_0_daily_1_date =
						results_0_daily_1[&quot;date&quot;];</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; const char* results_0_daily_1_text_day =
						results_0_daily_1[&quot;text_day&quot;];</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; const char* results_0_daily_1_code_day =
						results_0_daily_1[&quot;code_day&quot;];</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; const char* results_0_daily_1_text_night =
						results_0_daily_1[&quot;text_night&quot;];&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; const char* results_0_daily_1_code_night =
						results_0_daily_1[&quot;code_night&quot;];&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; const char* results_0_daily_1_high =
						results_0_daily_1[&quot;high&quot;];</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; const char* results_0_daily_1_low =
						results_0_daily_1[&quot;low&quot;];&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; const char* results_0_daily_1_rainfall =
						results_0_daily_1[&quot;rainfall&quot;];&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; const char* results_0_daily_1_precip =
						results_0_daily_1[&quot;precip&quot;];&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; const char* results_0_daily_1_wind_direction =
						results_0_daily_1[&quot;wind_direction&quot;];</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; const char* results_0_daily_1_wind_direction_degree =
						results_0_daily_1[&quot;wind_direction_degree&quot;];&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; const char* results_0_daily_1_wind_speed =
						results_0_daily_1[&quot;wind_speed&quot;];</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; const char* results_0_daily_1_wind_scale =
						results_0_daily_1[&quot;wind_scale&quot;];</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; const char* results_0_daily_1_humidity =
						results_0_daily_1[&quot;humidity&quot;];&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp;&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; JsonObject results_0_daily_2 = results_0_daily[2];</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; const char* results_0_daily_2_date =
						results_0_daily_2[&quot;date&quot;];</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; const char* results_0_daily_2_text_day =
						results_0_daily_2[&quot;text_day&quot;];</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; const char* results_0_daily_2_code_day =
						results_0_daily_2[&quot;code_day&quot;];</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; const char* results_0_daily_2_text_night =
						results_0_daily_2[&quot;text_night&quot;];</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; const char* results_0_daily_2_code_night =
						results_0_daily_2[&quot;code_night&quot;];</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; const char* results_0_daily_2_high =
						results_0_daily_2[&quot;high&quot;];&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; const char* results_0_daily_2_low =
						results_0_daily_2[&quot;low&quot;];&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; const char* results_0_daily_2_rainfall =
						results_0_daily_2[&quot;rainfall&quot;];</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; const char* results_0_daily_2_precip =
						results_0_daily_2[&quot;precip&quot;];&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; const char* results_0_daily_2_wind_direction =
						results_0_daily_2[&quot;wind_direction&quot;];&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; const char* results_0_daily_2_wind_direction_degree =
						results_0_daily_2[&quot;wind_direction_degree&quot;];&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; const char* results_0_daily_2_wind_speed =
						results_0_daily_2[&quot;wind_speed&quot;];</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; const char* results_0_daily_2_wind_scale =
						results_0_daily_2[&quot;wind_scale&quot;];&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; const char* results_0_daily_2_humidity =
						results_0_daily_2[&quot;humidity&quot;];&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp;&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; const char* results_0_last_update =
						results_0[&quot;last_update&quot;];&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp;&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; // 从以上信息中摘选几个通过串口监视器显示</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; String results_0_daily_0_date_str =
						results_0_daily_0[&quot;date&quot;].as&lt;String&gt;();</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; String&nbsp; results_0_daily_0_text_day_str =
						results_0_daily_0[&quot;text_day&quot;].as&lt;String&gt;();&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; int results_0_daily_0_code_day_int =
						results_0_daily_0[&quot;code_day&quot;].as&lt;int&gt;();&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; String results_0_daily_0_text_night_str =
						results_0_daily_0[&quot;text_night&quot;].as&lt;String&gt;();&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; int results_0_daily_0_code_night_int =
						results_0_daily_0[&quot;code_night&quot;].as&lt;int&gt;();&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; int results_0_daily_0_high_int =
						results_0_daily_0[&quot;high&quot;].as&lt;int&gt;();</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; int results_0_daily_0_low_int =
						results_0_daily_0[&quot;low&quot;].as&lt;int&gt;();</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; String results_0_last_update_str =
						results_0[&quot;last_update&quot;].as&lt;String&gt;();</span></p>
				<p><span style="text-wrap: nowrap;"><br /></span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; int results_0_daily_1_high_int =
						results_0_daily_1[&quot;high&quot;].as&lt;int&gt;();</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; int results_0_daily_1_low_int =
						results_0_daily_1[&quot;low&quot;].as&lt;int&gt;();</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; String results_0_daily_1_text_day_str =
						results_0_daily_1[&quot;text_day&quot;].as&lt;String&gt;();</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; Serial.println(F(&quot;======Today Weahter
						=======&quot;));</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; Serial.print(F(&quot;DATE: &quot;));</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; Serial.println(results_0_daily_0_date_str);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; Serial.print(F(&quot;Day Weather: &quot;));</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; Serial.print(results_0_daily_0_text_day_str);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; Serial.print(F(&quot; &quot;));</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; Serial.println(results_0_daily_0_code_day_int);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; Serial.print(F(&quot;Night Weather: &quot;));</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; Serial.print(results_0_daily_0_text_night_str);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; Serial.print(F(&quot; &quot;));</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; Serial.println(results_0_daily_0_code_night_int);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; Serial.print(F(&quot;High: &quot;));</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; Serial.println(results_0_daily_0_high_int);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; Serial.print(F(&quot;LOW: &quot;));</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; Serial.println(results_0_daily_0_low_int);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; Serial.print(F(&quot;Last Update: &quot;));</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; Serial.println(results_0_last_update_str);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp;
						Serial.println(F(&quot;==============================&quot;));</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp;
						display_1(results_0_daily_1_high_int,results_0_daily_1_low_int,results_0_daily_1_text_day_str);</span>
				</p>
				<p><span style="text-wrap: nowrap;">&nbsp;
						results_0_daily_1_high_int_old=results_0_daily_1_high_int;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp;
						results_0_daily_1_low_int_old=results_0_daily_1_low_int;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp;
						results_0_daily_1_text_day_str_old=results_0_daily_1_text_day_str;</span></p>
				<p><span style="text-wrap: nowrap;">}else{</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp;
						display_1(results_0_daily_1_high_int_old,results_0_daily_1_low_int_old,results_0_daily_1_text_day_str_old);</span>
				</p>
				<p><span style="text-wrap: nowrap;">}</span></p>
				<p><span style="text-wrap: nowrap;"><br /></span></p>
				<p><span style="text-wrap: nowrap;"><br /></span></p>
				<p><span style="text-wrap: nowrap;">&nbsp;&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">}</span></p>
				<p><span style="text-wrap: nowrap;">//----------预测明天天气----------</span></p>
				<p><span style="text-wrap: nowrap;">void display_1(int results_0_daily_1_high_int,int
						results_0_daily_1_low_int,String results_0_daily_1_text_day_str){</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; //显示输出</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; u8g2.clearBuffer();</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; u8g2.setFont(u8g2_font_wqy16_t_gb2312);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; u8g2.setCursor(15, 14);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; u8g2.print(&quot;深圳明天天气&quot;);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp;&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; u8g2.setFont(u8g2_font_logisoso24_tr);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; u8g2.setCursor(20, 46);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; u8g2.print(results_0_daily_1_low_int);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; u8g2.setCursor(56, 46);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; u8g2.print(&quot;~&quot;);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; u8g2.setCursor(75, 46);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; u8g2.print(results_0_daily_1_high_int);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp;&nbsp;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; u8g2.setCursor(30, 62);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; u8g2.setFont(u8g2_font_unifont_t_chinese2);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; u8g2.print(results_0_daily_1_text_day_str);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; u8g2.sendBuffer();</span></p>
				<p><span style="text-wrap: nowrap;">}</span></p>
				<p><span style="text-wrap: nowrap;"><br /></span></p>
				<p><span style="text-wrap: nowrap;"><br /></span></p>
				<p><span style="text-wrap: nowrap;">/*-------- NTP 代码 ----------*/</span></p>
				<p><span style="text-wrap: nowrap;"><br /></span></p>
				<p><span style="text-wrap: nowrap;">const int NTP_PACKET_SIZE = 48;&nbsp; &nbsp; &nbsp;//
						NTP时间在消息的前48个字节里</span></p>
				<p><span style="text-wrap: nowrap;">byte packetBuffer[NTP_PACKET_SIZE]; // 输入输出包的缓冲区</span></p>
				<p><span style="text-wrap: nowrap;"><br /></span></p>
				<p><span style="text-wrap: nowrap;">time_t getNtpTime()</span></p>
				<p><span style="text-wrap: nowrap;">{</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; IPAddress ntpServerIP; // NTP服务器的地址</span></p>
				<p><span style="text-wrap: nowrap;"><br /></span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; while (Udp.parsePacket() &gt; 0)</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; &nbsp; ; // 丢弃以前接收的任何数据包</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; Serial.println(&quot;Transmit NTP
						Request&quot;);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; // 从池中获取随机服务器</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; WiFi.hostByName(ntpServerName, ntpServerIP);</span>
				</p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; Serial.print(ntpServerName);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; Serial.print(&quot;: &quot;);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; Serial.println(ntpServerIP);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; sendNTPpacket(ntpServerIP);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; uint32_t beginWait = millis();</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; while (millis() - beginWait &lt; 1500)</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; {</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; &nbsp; int size = Udp.parsePacket();</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; &nbsp; if (size &gt;= NTP_PACKET_SIZE)</span>
				</p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; &nbsp; {</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
						Serial.println(&quot;Receive NTP Response&quot;);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; isNTPConnected =
						true;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Udp.read(packetBuffer,
						NTP_PACKET_SIZE); // 将数据包读取到缓冲区</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; unsigned long
						secsSince1900;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //
						将从位置40开始的四个字节转换为长整型，只取前32位整数部分</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; secsSince1900 = (unsigned
						long)packetBuffer[40] &lt;&lt; 24;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; secsSince1900 |= (unsigned
						long)packetBuffer[41] &lt;&lt; 16;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; secsSince1900 |= (unsigned
						long)packetBuffer[42] &lt;&lt; 8;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; secsSince1900 |= (unsigned
						long)packetBuffer[43];</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
						Serial.println(secsSince1900);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
						Serial.println(secsSince1900 - 2208988800UL + timeZone * SECS_PER_HOUR);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return secsSince1900 -
						2208988800UL + timeZone * SECS_PER_HOUR;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; &nbsp; }</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; }</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; Serial.println(&quot;No NTP Response :-(&quot;);
						//无NTP响应</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; isNTPConnected = false;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; return 0; //如果未得到时间则返回0</span></p>
				<p><span style="text-wrap: nowrap;">}</span></p>
				<p><span style="text-wrap: nowrap;"><br /></span></p>
				<p><span style="text-wrap: nowrap;">// 向给定地址的时间服务器发送NTP请求</span></p>
				<p><span style="text-wrap: nowrap;">void sendNTPpacket(IPAddress &amp;address)</span></p>
				<p><span style="text-wrap: nowrap;">{</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; memset(packetBuffer, 0, NTP_PACKET_SIZE);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; packetBuffer[0] = 0b11100011; // LI, Version,
						Mode</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; packetBuffer[1] = 0;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
						// Stratum, or type of clock</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; packetBuffer[2] = 6;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
						// Polling Interval</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; packetBuffer[3] = 0xEC;&nbsp; &nbsp; &nbsp; &nbsp;//
						Peer Clock Precision</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; // 8 bytes of zero for Root Delay &amp; Root
						Dispersion</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; packetBuffer[12] = 49;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; packetBuffer[13] = 0x4E;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; packetBuffer[14] = 49;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; packetBuffer[15] = 52;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; Udp.beginPacket(address, 123);
						//NTP需要使用的UDP端口号为123</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; Udp.write(packetBuffer, NTP_PACKET_SIZE);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; Udp.endPacket();</span></p>
				<p><span style="text-wrap: nowrap;">}</span></p>
				<p><span style="text-wrap: nowrap;"><br /></span></p>
				<p><span style="text-wrap: nowrap;">void oledClockDisplay()</span></p>
				<p><span style="text-wrap: nowrap;">{</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; int years, months, days, hours, minutes, seconds,
						weekdays;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; years = year();</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; months = month();</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; days = day();</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; hours = hour();</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; minutes = minute();</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; seconds = second();</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; weekdays = weekday();</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; Serial.printf(&quot;%d/%d/%d %d:%d:%d
						Weekday:%d\n&quot;, years, months, days, hours, minutes, seconds, weekdays);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; u8g2.clearBuffer();</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; u8g2.setFont(u8g2_font_unifont_t_chinese2);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; u8g2.setCursor(0, 14);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; if (isNTPConnected)</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; {</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; &nbsp; if(timeZone&gt;=0)</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; &nbsp; {</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
						u8g2.print(&quot;当前时间(UTC+&quot;);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
						u8g2.print(timeZone);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
						u8g2.print(&quot;)&quot;);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; &nbsp; }</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; &nbsp; {</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
						u8g2.print(&quot;当前时间(UTC&quot;);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
						u8g2.print(timeZone);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
						u8g2.print(&quot;)&quot;);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; &nbsp; }</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; }</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; else</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; &nbsp; u8g2.print(&quot;无网络!&quot;);
						//如果上次对时失败，则会显示无网络</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; String currentTime = &quot;&quot;;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; if (hours &lt; 10)</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; &nbsp; currentTime += 0;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; currentTime += hours;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; currentTime += &quot;:&quot;;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; if (minutes &lt; 10)</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; &nbsp; currentTime += 0;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; currentTime += minutes;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; currentTime += &quot;:&quot;;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; if (seconds &lt; 10)</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; &nbsp; currentTime += 0;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; currentTime += seconds;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; String currentDay = &quot;&quot;;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; currentDay += years;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; currentDay += &quot;/&quot;;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; if (months &lt; 10)</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; &nbsp; currentDay += 0;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; currentDay += months;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; currentDay += &quot;/&quot;;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; if (days &lt; 10)</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; &nbsp; currentDay += 0;</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; currentDay += days;</span></p>
				<p><span style="text-wrap: nowrap;"><br /></span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; u8g2.setFont(u8g2_font_logisoso24_tr);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; u8g2.setCursor(0, 44);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; u8g2.print(currentTime);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; u8g2.setCursor(0, 61);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; u8g2.setFont(u8g2_font_unifont_t_chinese2);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; u8g2.print(currentDay);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; u8g2.drawXBM(80, 48, 16, 16, xing);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; u8g2.setCursor(95, 62);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; u8g2.print(&quot;期&quot;);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; if (weekdays == 1)</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; &nbsp; u8g2.print(&quot;日&quot;);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; else if (weekdays == 2)</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; &nbsp; u8g2.print(&quot;一&quot;);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; else if (weekdays == 3)</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; &nbsp; u8g2.print(&quot;二&quot;);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; else if (weekdays == 4)</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; &nbsp; u8g2.print(&quot;三&quot;);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; else if (weekdays == 5)</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; &nbsp; u8g2.print(&quot;四&quot;);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; else if (weekdays == 6)</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; &nbsp; u8g2.print(&quot;五&quot;);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; else if (weekdays == 7)</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; &nbsp; &nbsp; u8g2.drawXBM(111, 49, 16, 16,
						liu);</span></p>
				<p><span style="text-wrap: nowrap;">&nbsp; &nbsp; u8g2.sendBuffer();</span></p>
				<p><span style="text-wrap: nowrap;">}</span></p>
				<p><span style="text-wrap: nowrap;"><br /></span></p>
				<p><br /></p>
			</div>

		</div>
	</body>
</html>
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?8c671a94f344a2df44601ff884da0985";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
